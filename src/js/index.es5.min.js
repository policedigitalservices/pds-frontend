"use strict";(function(){var t,i,r,n,e,u,f;if(document.body.classList.remove("no-js"),document.body.classList.add("with-js"),t=document.getElementById("stepped"),t)for(i=function(){var n=Array.from(t.querySelectorAll(".stepped__page")).map(function(n){return"#"+n.id});n.includes(location.hash)||(location.hash=n[0])},window.addEventListener("hashchange",i),i(),r=document.querySelectorAll(".input-validation-error"),n=0;n<r.length;n++)if(e=r[n],u=e.closest(".stepped__page"),u){location.hash=u.id;break}f=document.querySelector(".form--send-message");f&&function(){var o=function(){var t=document.getElementById("Input_Groups"),i=document.getElementById("Groups_Confirmation"),n=Array.from(t.options).filter(function(n){return n.selected}).map(function(n){return"<li>"+n.text+"<\/li>"});i.innerHTML="<ul>"+(n.length?n:["<li>No groups selected<\/li>"]).join("")+"<\/ul>"},u=function(){var t=document.getElementById("ResponseOptions_Confirmation"),n=Array.from(document.querySelectorAll(".form-control.response-option")).filter(function(n){return n.value.trim()!==""}).map(function(n){return"<li>"+n.value.trim()+"<\/li>"});n.length||(n=["<li>No Options added<\/li>"]);t.innerHTML="<ul>"+n.join("")+"<\/ul>"},c=function(){["Input_Subject","Input_Message"].map(function(n){return document.getElementById(n)}).forEach(s)},s=function(n){var t=document.getElementById(n.id+"_Confirmation");t&&(t.innerText=n.value)},l=function(n){var t=n.target;t.id=="Input_Groups"?o():Array.from(t.classList).includes("response-option")?u():s(t)},a=function(){for(var i,t=n.length-1;t>0;t--)if(i=n[t].querySelector("input.response-option"),i.value.trim()!=="")return t+1;return 1},v=function(n,u,f){f===1&&u===1?(n.classList.add(e),n.classList.add(i)):u<f||(u===f?n.classList.add(i):n.classList.add(t));u===r&&n.classList.add(k)},y=function(n,t){var i=document.createElement("button");i.classList.add("btn");i.classList.add("btn--remove-response");i.classList.add("btn-danger");i.innerText="-";i.addEventListener("click",function(n){n.preventDefault();w(t);b();u()});n.insertAdjacentElement("afterend",i)},p=function(n,u,f){if(f!==r){var o=document.createElement("button");o.classList.add("btn");o.classList.add("btn--add-response");o.classList.add("btn-success");o.innerText="+";u.insertAdjacentElement("afterend",o);o.addEventListener("click",function(r){r.preventDefault();var u=h.querySelector("."+t);u&&(u.classList.remove(t),u.classList.add(i),n.classList.remove(i),n.classList.remove(e))})}},w=function(i){var o=i-1,e,f,u,h,c;if(i===r){e=n[o];f=e.querySelector("input.response-option");f.value="";return}for(u=o;u<r-1;u++){var e=n[u],f=e.querySelector("input.response-option"),s=n[u+1];if(s.classList.contains(t)){f.value="";break}else h=s.querySelector("input.response-option"),f.value=h.value}c=n[r-1].querySelector("input.response-option");c.value=""},b=function(){for(var u,r=n.length-1;r>0;r--)if(u=n[r],u.classList.contains(t))continue;else{u.classList.add(t);r===1&&n[0].classList.add(e);n[r-1].classList.add(i);break}};(function(){$(".validate-stepped").click(function(n){var t=$(this).closest(".stepped__page").find(".form-control"),i=$.map(t,function(n){return $(n).valid()}).every(function(n){return n});i||n.preventDefault()})})(),function(){var n=f.querySelectorAll(".form-control");n.forEach(function(n){n.addEventListener("blur",l)})}();u();o();c();var h=document.querySelector(".response-options-list"),n=h.querySelectorAll(".form-group"),t="response-option-form-group--hidden",i="response-option-form-group--last-visible",e="response-option-form-group--only",k="response-option-form-group--last",r=n.length,d=a();n.forEach(function(n,t){var i=t+1,r;v(n,i,d);r=n.querySelector("input.response-option");p(n,r,i);y(r,i)})}()})();